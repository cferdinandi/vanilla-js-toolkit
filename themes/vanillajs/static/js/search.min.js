/*! vanillajs v1.5.0 | (c) 2019 Chris Ferdinandi | MIT License | http://github.com/cferdinandi/vanilla-js-toolkit */
var crowsNest=function(){"use strict";var e=document.querySelector("#form-search"),a=document.querySelector("#input-search"),l=document.querySelector("#search-results"),s=function(e){var r=e.split(" ").map((function(e){return new RegExp(e,"gi")}));console.log(r);var t,n,o,i=searchIndex.reduce((function(e,t,n){var o=0;return r.forEach((function(e){e.test(t.title)&&(o+=20,console.log(o,t.title)),e.test(t.content)&&(o+=1)})),0<o&&e.push({priority:o,article:t}),e}),[]).sort((function(e,t){return t.priority-e.priority}));console.log(i),l.innerHTML=i.length<1?"<p>Sorry, no matches were found.</p>":(n="<p>Found "+(t=i).length+" matching articles</p>",n+=t.map((function(e,t){return n=e.article,'<div class="margin-bottom" id="search-result-'+t+'"><a class="link-block" href="'+n.url+'"><aside class="text-muted text-small"><time datetime="'+n.datetime+'" pubdate>'+n.date+'</time></aside><h2 class="h3 link-block-styled link-no-underline no-padding-top no-margin-bottom">'+n.title+"</h2>"+n.summary.slice(0,150)+'...<br><span class="link-block-styled link-no-underline">'+n.url+"</span></a></div>";var n})).join("")),o=e,history.pushState&&history.pushState({},document.title,window.location.origin+window.location.pathname+"?s="+encodeURI(o))};e&&a&&l&&searchIndex&&(a.value=a.value.replace(" site:gomakethings.com",""),e.addEventListener("submit",(function(e){e.preventDefault(),s(a.value)}),!1),(function(){var e,t,n,o,r=(e="s",n=t||window.location.href,(o=new RegExp("[?&]"+e+"=([^&#]*)","i").exec(n))?o[1]:null);if(r){var i=decodeURI(r);a.value=i,s(i)}})())};crowsNest();